/*
 Cee.js v0.2.0

 http://roblarsen.github.com/Cee.js/

 Copyright 2013, Rob Larsen

 Dual licensed under the MIT or GPL Version 2 licenses.

 build: 130527231023

*/
(function(v){var s=v.document,y=function(){var o=function(s){return new o.prototype._init(s)};o.prototype={_init:function(o,i){var i=i||{},f;s.getElementById(o)?f=s.getElementById(o):(f=s.createElement("canvas"),f.width=i.width||f.width,f.height=i.height||f.height,f.id=o);if(f.nodeName.toLowerCase()!=="canvas"){var z=s.createElement("canvas");z.width=f.offsetHeight;z.height=f.offsetWidth;z.id="bigc";f.appendChild(z);c=s.getElementById("bigc");throw"The provided ID wasn't a canvas element. A canvas element with id 'bigc' created as a child of the supplied node.";
}var l=0,m=0,C=null,c=f.getContext("2d");c.fillStyle=i.fillStyle||c.fillStyle;c.font=i.font||c.font;c.globalAlpha=i.globalAlpha||c.globalAlpha;c.globalCompositeOperation=i.globalCompositeOperation||c.globalCompositeOperation;c.lineCap=i.lineCap||c.lineCap;c.lineJoin=i.lineJoin||c.lineJoin;c.lineWidth=i.lineWidth||c.lineWidth;c.miterLimit=i.miterLimit||c.miterLimit;c.shadowBlur=i.shadowBlur||c.shadowBlur;c.shadowColor=i.shadowColor||c.shadowColor;c.shadowOffsetX=i.shadodOffsetX||c.shadowOffsetX;c.shadowOffsetY=
i.shadowOffsetY||c.shadowOffsetY;c.strokeStyle=i.strokeStyle||c.strokeStyle;c.textAlign=i.textAlign||c.textAlign;c.textBaseline=i.textBaseline||c.textBaseline;var j=function(a,b){a!==void 0&&b!==void 0&&typeof a==="number"&&typeof b==="number"&&(l=a,m=b);return{x:l,y:m}},h=function(a,b){return a!==void 0&&typeof a==="number"?a:b},v=function(a,b,e,d,g,n){var k=d%(2*Math.PI),t=g%(2*Math.PI);n&&(k=g%(2*Math.PI),t=d%(2*Math.PI));var h=u.getArcCircleExtremes(a,b,e,k,t),f=a+e*Math.cos(k),k=b+e*Math.sin(k),
i=a+e*Math.cos(t),t=b+e*Math.sin(t),f=[f,i].concat(h[0]),h=[k,t].concat(h[1]);c.arc(a,b,e,d,g,n||!1);j(a,b);p({x1:Math.max.apply(this,f),y1:Math.max.apply(this,h),x2:Math.min.apply(this,f),y2:Math.min.apply(this,h)});return this},A=function(){c.beginPath();return this},p=function(a){var b,c,d,g;if(a===void 0)return C;else if(a.x1!==void 0&&a.y1!==void 0&&a.x2!==void 0&&a.y2!==void 0)b=Math.abs(a.y2-a.y1),c=Math.abs(a.x2-a.x1),d=a.x1<a.x2?a.x1:a.x2,g=a.y1<a.y2?a.y1:a.y2;else if(a.x!==void 0&&a.y!==
void 0&&a.w!==void 0&&a.h!==void 0)b=a.h,c=a.w,d=a.x,g=a.y;else if(a.cx!==void 0&&a.cy!==void 0&&a.r!==void 0)b=c=2*a.r,d=a.cx-a.r,g=a.cy-a.r;else if(a.x!==void 0&&a.y!==void 0){var n=j();p({x1:a.x,y1:a.y,x2:n.x,y2:n.y})}else return C;return C={tl:{x:d,y:g},t:{x:d+c/2,y:g},tr:{x:d+c,y:g},r:{x:d+c,y:g+b/2},br:{x:d+c,y:g+b},b:{x:d+c/2,y:g+b},bl:{x:d,y:g+b},l:{x:d,y:g+b/2}}},F=function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m),d=a.radius||10,g=a.fillStyle||!1,a=a.strokeStyle||!1;D(b,e);A();v(b,e,d,0,2*Math.PI);
if(g)c.fillStyle=g,c.fill();if(a)c.strokeStyle=a,E();B();p({cx:b,cy:e,r:d});return this},B=function(){c.closePath();return this},y=function(){c.fill();return this},I=function(a,b,e,d){c.fillRect(a,b,e,d);j(a,b);p({x:a,y:b,w:e,h:d});return this},w=function(a,b){c.lineTo(a,b);p({x:a,y:b});j(a,b);return this},u={cosec:function(a){return 1/Math.sin(a)},sec:function(a){return 1/Math.cos(a)},radians:function(a){return a*(Math.PI/180)},goldenRatio:1.61803399,getArcCircleExtremes:function(a,b,c,d,g){var n=
d+2*Math.PI<=g||g+2*Math.PI<=d,k=a-c,t=a+c,h=b+c,c=b-c,f=[],j=[];if(n||u.isAngleBetween(d,g,0*Math.PI))f.push(t),j.push(b);if(n||u.isAngleBetween(d,g,0.5*Math.PI))f.push(a),j.push(h);if(n||u.isAngleBetween(d,g,1*Math.PI))f.push(k),j.push(b);if(n||u.isAngleBetween(d,g,1.5*Math.PI))f.push(a),j.push(c);return[f,j]},isAngleBetween:function(a,b,c){a=(a+2*Math.PI)%(2*Math.PI);b=(b+2*Math.PI)%(2*Math.PI);if(a<=b)return a<=c&&c<=b?!0:!1;else if(a>=b)return a>=c&&c>=b?!1:!0}},D=function(a,b){c.moveTo(a,b);
j(a,b);return this},x=function(a,b,e,d){j(e,d);c.quadraticCurveTo(a,b,e,d);return this},G=function(){return"#"+Math.floor(Math.random()*16777215).toString(16)},H=function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m),d=a.radius||10,g=a.fillStyle||!1,n=a.strokeStyle||!1,k=a.height||10,a=a.width||10;A();D(b,e+d);w(b,e+k-d);x(b,e+k,b+d,e+k);w(b+a-d,e+k);x(b+a,e+k,b+a,e+k-d);w(b+a,e+d);x(b+a,e,b+a-d,e);w(b+d,e);x(b,e,b,e+d);if(g)c.fillStyle=g,y();if(n)c.strokeStyle=n,E();B();j(b,e);p({x:b,y:e,w:a,h:k});return this},
J=function(a,b,e,d){j(a,b);c.strokeRect(a,b,e,d);p({x:a,y:b,w:e,h:d});return this},E=function(){c.stroke();return this};return{arc:v,arcTo:function(a,b,e,d,g){var n=j().x,k=j().y,f=(b-k)/(a-n);f===Infinity&&(f=b-k);var h=(d-b)/(e-a);h===Infinity&&(h=d-b);var i=Math.atan((f-h)/(1+f*h)),l=g/Math.tan(i/2);Math.sqrt(l*l+g*g);var r=Math.abs(Math.sqrt(l*l/(1+f*f))),q=Math.abs(r*f),m;m=a>n?a-r:a+r;var i=b>k?b-q:b+q,r=Math.abs(Math.sqrt(l*l/(1+h*h))),q=Math.abs(r*h),h=e>a?a+r:a-r,l=d>b?b+q:b-q,f=-1/f,r=Math.sqrt(g*
g/(1+f*f)),q=r*f,f=m<a&&a>h?m-r:m+r,r=i<b&&b>l?i-q:i+q,q=Math.atan2(i-r,m-f),o=Math.atan2(l-r,h-f);if(q<0&&o>0||q>0&&o<0)q+=Math.PI,o+=Math.PI;if(o<q)var s=q,q=o,o=s;f=u.getArcCircleExtremes(f,r,g,q,o);m=[n,m,h].concat(f[0]);i=[k,i,l].concat(f[1]);c.moveTo(n,k);c.arcTo(a,b,e,d,g);j(h,l);p({x1:Math.max.apply(this,m),y1:Math.max.apply(this,i),x2:Math.min.apply(this,m),y2:Math.min.apply(this,i)});return this},beginPath:A,bezierCurveTo:function(a,b,e,d,g,f){c.bezierCurveTo(a,b,e,d,g,f);j(g,f);return this},
boundingBox:function(){return p()},circle:F,clearRect:function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m),d=a.width||0,a=a.height||0;c.clearRect(b,e,d,a);p({x:b,y:e,w:d,h:a});return this},clip:function(){c.clip();return this},closePath:B,context:c,container:f,createImageData:function(a,b){return a.data!==void 0?c.createImageData(a):c.createImageData(a,b)},createLinearGradient:function(a,b,e,d){return c.createLinearGradient(a,b,e,d)},createPattern:function(a,b){return c.createPattern(a,b)},createRadialGradient:function(a,
b,e,d,g,f){return c.createRadialGradient(a,b,e,d,g,f)},drawImage:function(a,b,e){if(a.nodeName==null){var d=new Image;d.src=a;a=d}a.onload=function(){c.drawImage(a,b,e)};b=h(b,l);e=h(e,m);j(b,e);return this},fill:y,fillCircle:function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m);F({x:b,y:e,radius:a.radius||10,fillStyle:a.fillStyle||c.fillStyle,strokeStyle:!1});return this},fillRect:I,fillStyle:function(a){return a!==void 0?(c.fillStyle=a,this):c.fillStyle},fillText:function(a,b,e,d){d===void 0?c.fillText(a,
b,e):c.fillText(a,b,e,d);j(b,e);return this},font:function(a){return a!==void 0?(c.font=a,this):c.font},currentPos:j,getImageData:function(a,b,e,d){j(a,b);return c.getImageData(a,b,e,d)},getPixelColor:function(a,b){var e=c.getImageData(0,0,f.width,f.height),d=b*e.width*4+a*4;return{r:e.data[d],g:e.data[d+1],b:e.data[d+2],a:e.data[d+3]}},getPixelsByColor:function(a,b,e){for(var d=c.getImageData(0,0,f.width,f.height),g=d.data.length,h=0,k=0;k<g;k+=4)d.data[k]===a&&d.data[k+1]===b&&d.data[k+2]===e&&
h++;return h},globalAlpha:function(a){return a!==void 0?(c.globalAlpha=a,this):c.globalAlpha},globalCompositeOperation:function(a){return a!==void 0?(c.globalCompositeOperation=a,this):c.globalCompositeOperation},isPointInPath:function(a,b){return c.isPointInPath(a,b)},line:function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m),d=a.distance||0,g=u.radians(a.angle%360||0),a=Math.sin(g)*d;d*=Math.cos(g);d=b+d;a=e+a;c.moveTo(b,e);c.lineTo(d,a);j(d,a);p({x1:b,y1:e,x2:d,y2:a});return this},lineCap:function(a){return a!==
void 0?(c.lineCap=a,this):c.lineCap},lineJoin:function(a){return a!==void 0?(c.lineJoin=a,this):c.lineJoin},lineTo:w,lineWidth:function(a){return a!==void 0?(c.lineWidth=a,this):c.lineWidth},math:u,miterLimit:function(a){return a!==void 0?(c.miterLimit=a,this):c.miterLimit},measureText:function(a){return c.measureText(a)},moveTo:D,putImageData:function(a,b,e,d,g,f,h){j(b,e);c.putImageData(a,b,e,d||0,g||0,f||a.width,h||a.height);return this},quadraticCurveTo:x,randomStroke:function(){c.strokeStyle=
G();return this},randomHex:G,randomFill:function(){c.fillStyle=G();return this},rect:function(a,b,e,d){j(a,b);c.rect(a,b,e,d);p({x:a,y:b,w:e,h:d});return this},rectangle:function(a){var a=a||{},b,e,d,g;if(a.x1!==void 0&&a.y1!==void 0&&a.x2!==void 0&&a.y2!==void 0)b=h(a.x1,l),e=h(a.y1,m),d=Math.abs(b-a.x2),g=Math.abs(e-a.y2);else if(a.x!==void 0&&a.y!==void 0&&a.width!==void 0&&a.height!==void 0)b=h(a.x,l),e=h(a.y,m),d=h(a.width,0),g=h(a.height,0);else return this;var f=a.fillStyle||!1;if(a=a.lineWidth||
!1)c.lineWidth=a;f?(c.fillStyle=f,I(b,e,d,g)):J(b,e,d,g);p({x:b,y:e,w:d,h:g});return this},reset:function(){c.clearRect(0,0,f.width,f.height);j(0,0);return this},restore:function(){c.restore();return this},rotate:function(a){c.rotate(a);return this},roundedRectangle:H,strokeRoundedRectangle:function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m),d=a.radius||10,g=a.strokeStyle||c.strokeStyle;height=a.height||10;width=a.width||10;H({x:b,y:e,radius:d,fillStyle:!1,strokeStyle:g,height:height,width:width});p({x:a.x,
y:a.y,w:a.width,h:a.height});return this},fillRoundedRectangle:function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m);H({x:b,y:e,radius:a.radius||10,fillStyle:a.fillStyle||c.fillStyle,strokeStyle:!1,height:a.height||10,width:a.width||10});p({x:a.x,y:a.y,w:a.width,h:a.height});return this},save:function(){c.save();return this},scale:function(a,b){c.scale(a,b);return this},setTransform:function(a,b,e,d,g,f){c.setTransform(a,b,e,d,g,f);return this},shadowBlur:function(a){return a!==void 0?(c.shadowBlur=a,this):
c.shadowBlur},shadowColor:function(a){return a!==void 0?(c.shadowColor=a,this):c.shadowColor},shadowOffset:function(a,b){return a!==void 0?(c.shadowOffsetX=a,c.shadowOffsetY=b!==void 0?b:a,this):{x:c.shadowOffsetX,y:c.shadowOffsetY}},shadowOffsetX:function(a){return a!==void 0?(c.shadowOffsetX=a,this):c.shadowOffsetX},shadowOffsetY:function(a){return a!==void 0?(c.shadowOffsetY=a,this):c.shadowOffsetY},star:function(a){if(a.points>2){var b,e,d,g,f,h,i=a.fillStyle||!1,j=a.strokeStyle||!1;b=Math.PI*
2/a.points;e=b/2;d=a.angle/180*Math.PI;c.moveTo(a.x+Math.cos(d)*a.outerRadius,a.y-Math.sin(d)*a.outerRadius);A();for(g=1;g<=a.points;g++)f=a.x+Math.cos(d+b*g-e)*a.innerRadius,h=a.y-Math.sin(d+b*g-e)*a.innerRadius,c.lineTo(f,h),f=a.x+Math.cos(d+b*g)*a.outerRadius,h=a.y-Math.sin(d+b*g)*a.outerRadius,c.lineTo(f,h);if(j)c.strokeStyle=j,c.stroke();if(i)c.fillStyle=i,c.fill();B();p({cx:a.x,cy:a.y,r:Math.max(a.outerRadius,a.innerRadius)});return this}else throw"star error: Not enough points to make a star.";
},stroke:E,strokeCircle:function(a){var a=a||{},b=h(a.x,l),e=h(a.y,m);F({x:b,y:e,radius:a.radius||10,fillStyle:!1,strokeStyle:a.strokeStyle||c.strokeStyle});return this},strokeStyle:function(a){return a!==void 0?(c.strokeStyle=a,this):c.strokeStyle},strokeText:function(a,b,e,d){j(b,e);c.strokeText(a,b,e,d);return this},strokeRect:J,textAlign:function(a){return a!==void 0?(c.textAlign=a,this):c.textAlign},textBaseline:function(a){return a!==void 0?(c.textBaseline=a,this):c.textBaseline},transform:function(a,
b,e,d,f,h){j(f,h);c.transform(a,b,e,d,f,h);return this},translate:function(a,b){j(a,b);c.translate(a,b);return this},width:f.width,height:f.height}}};o.prototype._init.prototype=o.prototype;return o}();typeof define==="function"&&define.amd?define(function(){return y}):v.Cee=y})(window);
